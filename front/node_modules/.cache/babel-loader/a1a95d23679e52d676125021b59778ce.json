{"remainingRequest":"/home/manoel/Documents/conta-comigo-app-front/node_modules/babel-loader/lib/index.js!/home/manoel/Documents/conta-comigo-app-front/node_modules/vuetify-loader/lib/loader.js??ref--18-0!/home/manoel/Documents/conta-comigo-app-front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/manoel/Documents/conta-comigo-app-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/manoel/Documents/conta-comigo-app-front/src/views/CreateHelp.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/manoel/Documents/conta-comigo-app-front/src/views/CreateHelp.vue","mtime":1588719054688},{"path":"/home/manoel/Documents/conta-comigo-app-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/manoel/Documents/conta-comigo-app-front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/manoel/Documents/conta-comigo-app-front/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/home/manoel/Documents/conta-comigo-app-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/manoel/Documents/conta-comigo-app-front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbWFwU3RhdGUgfSBmcm9tICd2dWV4JzsKaW1wb3J0IENhcmRDb250YWluZXIgZnJvbSAnQC9jb21wb25lbnRzL0NhcmRDb250YWluZXIudnVlJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdDcmVhdGVIZWxwJywKICBjb21wdXRlZDogbWFwU3RhdGUoWydoZWxwJywgJ3VzZXInXSksCiAgY29tcG9uZW50czogewogICAgQ2FyZENvbnRhaW5lcjogQ2FyZENvbnRhaW5lcgogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGRpdnVsZ2FyRm9uZTogZmFsc2UsCiAgICAgIHJlcXVlc3REZXNjcmlwdGlvbjogJycsCiAgICAgIHJlcXVlc3RDYXRlZ29yeTogJycsCiAgICAgIHR4dFN1YjogJ1NlbGVjaW9uZSBvIHRpcG8gZGUgYWp1ZGEgZSB1bWEgYnJldmUgZGVzY3Jpw6fDo28gZG8gcXVlIHZvY8OqIHByZWNpc2EgZSBsb2dvIHVtIHZvbHVudMOhcmlvIGlyw6Egb2ZlcmVjZXIgYWp1ZGEuJwogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHJlcXVlc3RIZWxwU2F2ZTogZnVuY3Rpb24gcmVxdWVzdEhlbHBTYXZlKCkgewogICAgICBpZiAodGhpcy4kcmVmcy5yZXF1ZXN0Zm9ybS52YWxpZGF0ZSgpKSB7CiAgICAgICAgLy8gdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ25vdGlmaWNhdGlvbi9zaG93Tm90aWZpY2F0aW9uJywgewogICAgICAgIC8vICAgZGVzY3JpcHRpb246ICdvcGVyYcOnw6NvIHJlYWxpemFkYSBjb20gc3VjZXNzbycsCiAgICAgICAgLy8gICBjb2xvcjogJ3N1Y2Nlc3MnLAogICAgICAgIC8vICAgaWQ6IHRoaXMuJGZvb3MuZ3VpZCgpLAogICAgICAgIC8vICAgdHlwZTogMCwKICAgICAgICAvLyAgIHN0YXR1czogMCwKICAgICAgICAvLyB9KTsKICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnaGVscC9yZXF1ZXN0SGVscFNhdmUnLCB7CiAgICAgICAgICBjYXRlZ29yeTogdGhpcy5yZXF1ZXN0Q2F0ZWdvcnksCiAgICAgICAgICBkZXNjcmlwdGlvbjogdGhpcy5yZXF1ZXN0RGVzY3JpcHRpb24sCiAgICAgICAgICBhZGRyZXNzX2lkOiB0aGlzLnVzZXIudXNlci5hZGRyZXNzZXNbMF0uaWQsCiAgICAgICAgICB0ZWxlcGhvbmVfYWxsb3dlZDogdGhpcy5kaXZ1bGdhckZvbmUKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIHJlcXVlc3RIZWxwTmV3OiBmdW5jdGlvbiByZXF1ZXN0SGVscE5ldygpIHsKICAgICAgdGhpcy5yZXF1ZXN0RGVzY3JpcHRpb24gPSBudWxsOwogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnaGVscC9yZXF1ZXN0SGVscE5ldycpOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIGlmICh0aGlzLmRlc2NyaXB0aW9uICYmIHRoaXMuY2F0ZWdvcnkpIHsKICAgICAgdGhpcy5yZXF1ZXN0RGVzY3JpcHRpb24gPSB0aGlzLmRlc2NyaXB0aW9uOwogICAgICB0aGlzLnJlcXVlc3RDYXRlZ29yeSA9IHRoaXMuY2F0ZWdvcnk7CiAgICB9CgogICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2hlbHAvZ2V0SGVscENhdGVnb3J5Jyk7CiAgfSwKICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkgewogICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2hlbHAvY2xlYXJIZWxwU3RhdGUnKTsKICB9Cn07"},{"version":3,"sources":["CreateHelp.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0DA,SAAA,QAAA,QAAA,MAAA;AACA,OAAA,aAAA,MAAA,gCAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,YADA;AAEA,EAAA,QAAA,EAAA,QAAA,CAAA,CAAA,MAAA,EAAA,MAAA,CAAA,CAFA;AAGA,EAAA,UAAA,EAAA;AACA,IAAA,aAAA,EAAA;AADA,GAHA;AAMA,EAAA,IANA,kBAMA;AACA,WAAA;AACA,MAAA,YAAA,EAAA,KADA;AAEA,MAAA,kBAAA,EAAA,EAFA;AAGA,MAAA,eAAA,EAAA,EAHA;AAIA,MAAA,MAAA,EAAA;AAJA,KAAA;AAMA,GAbA;AAcA,EAAA,OAAA,EAAA;AACA,IAAA,eADA,6BACA;AACA,UAAA,KAAA,KAAA,CAAA,WAAA,CAAA,QAAA,EAAA,EAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAA,MAAA,CAAA,QAAA,CAAA,sBAAA,EAAA;AACA,UAAA,QAAA,EAAA,KAAA,eADA;AAEA,UAAA,WAAA,EAAA,KAAA,kBAFA;AAGA,UAAA,UAAA,EAAA,KAAA,IAAA,CAAA,IAAA,CAAA,SAAA,CAAA,CAAA,EAAA,EAHA;AAIA,UAAA,iBAAA,EAAA,KAAA;AAJA,SAAA;AAMA;AACA,KAjBA;AAkBA,IAAA,cAlBA,4BAkBA;AACA,WAAA,kBAAA,GAAA,IAAA;AACA,WAAA,MAAA,CAAA,QAAA,CAAA,qBAAA;AACA;AArBA,GAdA;AAqCA,EAAA,OArCA,qBAqCA;AACA,QAAA,KAAA,WAAA,IAAA,KAAA,QAAA,EAAA;AACA,WAAA,kBAAA,GAAA,KAAA,WAAA;AACA,WAAA,eAAA,GAAA,KAAA,QAAA;AACA;;AACA,SAAA,MAAA,CAAA,QAAA,CAAA,sBAAA;AACA,GA3CA;AA4CA,EAAA,aA5CA,2BA4CA;AACA,SAAA,MAAA,CAAA,QAAA,CAAA,qBAAA;AACA;AA9CA,CAAA","sourcesContent":["<template>\n  <div class=\"create-help\">\n    <CardContainer :title=\"'Preciso de ajuda'\">\n      <p class=\"subtitle-1 my-5 px-1 text-center secondary--text\">{{txtSub}}</p>\n      <v-form class=\"mt-5\" ref=\"requestform\">\n        <v-select\n          item-text=\"description\"\n          item-value=\"id\"\n          :items=\"help.helpCategory\"\n          label=\"Tipo de ajuda\"\n          v-model=\"requestCategory\"\n          outlined\n          required\n          :rules=\"[$vln.requiredRule('Tipo de ajuda')]\"\n          :disabled=\"help.helpRequestSuccess\"\n        ></v-select>\n        <v-textarea\n          outlined\n          v-model=\"requestDescription\"\n          label=\"Descrição\"\n          :disabled = \"help.helpRequestSuccess\"\n          :rules=\"[$vln.requiredRule('Descrição'), $vln.moreThanRule(20)]\"\n          required\n        ></v-textarea>\n        <div>\n          <p class=\"body-1 secondary--text px-1\">\n            Autorizar divulgar número de telefone para todos?\n          </p>\n          <v-switch\n            v-model=\"divulgarFone\"\n            class=\"ma-4\"\n            :label=\"divulgarFone ? 'Sim' : 'Não'\"></v-switch>\n        </div>\n        <v-btn\n          rounded\n          class=\"mt-5\"\n          block\n          @click=\"requestHelpSave()\"\n          :disabled = \"help.helpRequestSuccess\"\n          color=\"primary\" x-large>Procurar voluntário\n          <v-icon right dark>$heart</v-icon>\n        </v-btn>\n        <p\n          v-if=\"help.requestError\"\n          class=\"block text-center mt-4 danger--text\"\n        >{{help.requestError}}</p>\n        <!-- <div v-if=\"help.helpRequestSuccess\" class=\"block text-center mt-4\">\n          <p class=\"success--text\">\n            Solicitação realizada com sucesso!\n            <br>Agora é so aguardar que um voluntário irá ajudá-lo.\n          </p>\n          <v-btn text color=\"primary\" @click=\"requestHelpNew()\">Realizar um novo cadastro</v-btn>\n        </div> -->\n      </v-form>\n    </CardContainer>\n  </div>\n</template>\n<script>\nimport { mapState } from 'vuex';\nimport CardContainer from '@/components/CardContainer.vue';\n\nexport default {\n  name: 'CreateHelp',\n  computed: mapState(['help', 'user']),\n  components: {\n    CardContainer,\n  },\n  data() {\n    return {\n      divulgarFone: false,\n      requestDescription: '',\n      requestCategory: '',\n      txtSub: 'Selecione o tipo de ajuda e uma breve descrição do que você precisa e logo um voluntário irá oferecer ajuda.',\n    };\n  },\n  methods: {\n    requestHelpSave() {\n      if (this.$refs.requestform.validate()) {\n        // this.$store.dispatch('notification/showNotification', {\n        //   description: 'operação realizada com sucesso',\n        //   color: 'success',\n        //   id: this.$foos.guid(),\n        //   type: 0,\n        //   status: 0,\n        // });\n        this.$store.dispatch('help/requestHelpSave', {\n          category: this.requestCategory,\n          description: this.requestDescription,\n          address_id: this.user.user.addresses[0].id,\n          telephone_allowed: this.divulgarFone,\n        });\n      }\n    },\n    requestHelpNew() {\n      this.requestDescription = null;\n      this.$store.dispatch('help/requestHelpNew');\n    },\n  },\n  created() {\n    if ((this.description) && (this.category)) {\n      this.requestDescription = this.description;\n      this.requestCategory = this.category;\n    }\n    this.$store.dispatch('help/getHelpCategory');\n  },\n  beforeDestroy() {\n    this.$store.dispatch('help/clearHelpState');\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n.create-help {\n  width: 100%;\n  height: 100%;\n}\n</style>\n"],"sourceRoot":"src/views"}]}