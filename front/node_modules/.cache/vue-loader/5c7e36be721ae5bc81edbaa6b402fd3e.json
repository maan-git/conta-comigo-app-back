{"remainingRequest":"/home/manoel/Documents/conta-comigo-app-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/manoel/Documents/conta-comigo-app-front/src/views/CreateHelp.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/manoel/Documents/conta-comigo-app-front/src/views/CreateHelp.vue","mtime":1588719054688},{"path":"/home/manoel/Documents/conta-comigo-app-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/manoel/Documents/conta-comigo-app-front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/manoel/Documents/conta-comigo-app-front/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/home/manoel/Documents/conta-comigo-app-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/manoel/Documents/conta-comigo-app-front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAndnVleCc7CmltcG9ydCBDYXJkQ29udGFpbmVyIGZyb20gJ0AvY29tcG9uZW50cy9DYXJkQ29udGFpbmVyLnZ1ZSc7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0NyZWF0ZUhlbHAnLAogIGNvbXB1dGVkOiBtYXBTdGF0ZShbJ2hlbHAnLCAndXNlciddKSwKICBjb21wb25lbnRzOiB7CiAgICBDYXJkQ29udGFpbmVyLAogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGRpdnVsZ2FyRm9uZTogZmFsc2UsCiAgICAgIHJlcXVlc3REZXNjcmlwdGlvbjogJycsCiAgICAgIHJlcXVlc3RDYXRlZ29yeTogJycsCiAgICAgIHR4dFN1YjogJ1NlbGVjaW9uZSBvIHRpcG8gZGUgYWp1ZGEgZSB1bWEgYnJldmUgZGVzY3Jpw6fDo28gZG8gcXVlIHZvY8OqIHByZWNpc2EgZSBsb2dvIHVtIHZvbHVudMOhcmlvIGlyw6Egb2ZlcmVjZXIgYWp1ZGEuJywKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICByZXF1ZXN0SGVscFNhdmUoKSB7CiAgICAgIGlmICh0aGlzLiRyZWZzLnJlcXVlc3Rmb3JtLnZhbGlkYXRlKCkpIHsKICAgICAgICAvLyB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnbm90aWZpY2F0aW9uL3Nob3dOb3RpZmljYXRpb24nLCB7CiAgICAgICAgLy8gICBkZXNjcmlwdGlvbjogJ29wZXJhw6fDo28gcmVhbGl6YWRhIGNvbSBzdWNlc3NvJywKICAgICAgICAvLyAgIGNvbG9yOiAnc3VjY2VzcycsCiAgICAgICAgLy8gICBpZDogdGhpcy4kZm9vcy5ndWlkKCksCiAgICAgICAgLy8gICB0eXBlOiAwLAogICAgICAgIC8vICAgc3RhdHVzOiAwLAogICAgICAgIC8vIH0pOwogICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdoZWxwL3JlcXVlc3RIZWxwU2F2ZScsIHsKICAgICAgICAgIGNhdGVnb3J5OiB0aGlzLnJlcXVlc3RDYXRlZ29yeSwKICAgICAgICAgIGRlc2NyaXB0aW9uOiB0aGlzLnJlcXVlc3REZXNjcmlwdGlvbiwKICAgICAgICAgIGFkZHJlc3NfaWQ6IHRoaXMudXNlci51c2VyLmFkZHJlc3Nlc1swXS5pZCwKICAgICAgICAgIHRlbGVwaG9uZV9hbGxvd2VkOiB0aGlzLmRpdnVsZ2FyRm9uZSwKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIHJlcXVlc3RIZWxwTmV3KCkgewogICAgICB0aGlzLnJlcXVlc3REZXNjcmlwdGlvbiA9IG51bGw7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdoZWxwL3JlcXVlc3RIZWxwTmV3Jyk7CiAgICB9LAogIH0sCiAgY3JlYXRlZCgpIHsKICAgIGlmICgodGhpcy5kZXNjcmlwdGlvbikgJiYgKHRoaXMuY2F0ZWdvcnkpKSB7CiAgICAgIHRoaXMucmVxdWVzdERlc2NyaXB0aW9uID0gdGhpcy5kZXNjcmlwdGlvbjsKICAgICAgdGhpcy5yZXF1ZXN0Q2F0ZWdvcnkgPSB0aGlzLmNhdGVnb3J5OwogICAgfQogICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2hlbHAvZ2V0SGVscENhdGVnb3J5Jyk7CiAgfSwKICBiZWZvcmVEZXN0cm95KCkgewogICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2hlbHAvY2xlYXJIZWxwU3RhdGUnKTsKICB9LAp9Owo="},{"version":3,"sources":["CreateHelp.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0DA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CreateHelp.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"create-help\">\n    <CardContainer :title=\"'Preciso de ajuda'\">\n      <p class=\"subtitle-1 my-5 px-1 text-center secondary--text\">{{txtSub}}</p>\n      <v-form class=\"mt-5\" ref=\"requestform\">\n        <v-select\n          item-text=\"description\"\n          item-value=\"id\"\n          :items=\"help.helpCategory\"\n          label=\"Tipo de ajuda\"\n          v-model=\"requestCategory\"\n          outlined\n          required\n          :rules=\"[$vln.requiredRule('Tipo de ajuda')]\"\n          :disabled=\"help.helpRequestSuccess\"\n        ></v-select>\n        <v-textarea\n          outlined\n          v-model=\"requestDescription\"\n          label=\"Descrição\"\n          :disabled = \"help.helpRequestSuccess\"\n          :rules=\"[$vln.requiredRule('Descrição'), $vln.moreThanRule(20)]\"\n          required\n        ></v-textarea>\n        <div>\n          <p class=\"body-1 secondary--text px-1\">\n            Autorizar divulgar número de telefone para todos?\n          </p>\n          <v-switch\n            v-model=\"divulgarFone\"\n            class=\"ma-4\"\n            :label=\"divulgarFone ? 'Sim' : 'Não'\"></v-switch>\n        </div>\n        <v-btn\n          rounded\n          class=\"mt-5\"\n          block\n          @click=\"requestHelpSave()\"\n          :disabled = \"help.helpRequestSuccess\"\n          color=\"primary\" x-large>Procurar voluntário\n          <v-icon right dark>$heart</v-icon>\n        </v-btn>\n        <p\n          v-if=\"help.requestError\"\n          class=\"block text-center mt-4 danger--text\"\n        >{{help.requestError}}</p>\n        <!-- <div v-if=\"help.helpRequestSuccess\" class=\"block text-center mt-4\">\n          <p class=\"success--text\">\n            Solicitação realizada com sucesso!\n            <br>Agora é so aguardar que um voluntário irá ajudá-lo.\n          </p>\n          <v-btn text color=\"primary\" @click=\"requestHelpNew()\">Realizar um novo cadastro</v-btn>\n        </div> -->\n      </v-form>\n    </CardContainer>\n  </div>\n</template>\n<script>\nimport { mapState } from 'vuex';\nimport CardContainer from '@/components/CardContainer.vue';\n\nexport default {\n  name: 'CreateHelp',\n  computed: mapState(['help', 'user']),\n  components: {\n    CardContainer,\n  },\n  data() {\n    return {\n      divulgarFone: false,\n      requestDescription: '',\n      requestCategory: '',\n      txtSub: 'Selecione o tipo de ajuda e uma breve descrição do que você precisa e logo um voluntário irá oferecer ajuda.',\n    };\n  },\n  methods: {\n    requestHelpSave() {\n      if (this.$refs.requestform.validate()) {\n        // this.$store.dispatch('notification/showNotification', {\n        //   description: 'operação realizada com sucesso',\n        //   color: 'success',\n        //   id: this.$foos.guid(),\n        //   type: 0,\n        //   status: 0,\n        // });\n        this.$store.dispatch('help/requestHelpSave', {\n          category: this.requestCategory,\n          description: this.requestDescription,\n          address_id: this.user.user.addresses[0].id,\n          telephone_allowed: this.divulgarFone,\n        });\n      }\n    },\n    requestHelpNew() {\n      this.requestDescription = null;\n      this.$store.dispatch('help/requestHelpNew');\n    },\n  },\n  created() {\n    if ((this.description) && (this.category)) {\n      this.requestDescription = this.description;\n      this.requestCategory = this.category;\n    }\n    this.$store.dispatch('help/getHelpCategory');\n  },\n  beforeDestroy() {\n    this.$store.dispatch('help/clearHelpState');\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n.create-help {\n  width: 100%;\n  height: 100%;\n}\n</style>\n"]}]}