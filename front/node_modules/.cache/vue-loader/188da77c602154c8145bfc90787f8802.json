{"remainingRequest":"/home/manoel/Documents/conta-comigo-app-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/manoel/Documents/conta-comigo-app-front/src/views/CreateHelp.vue?vue&type=style&index=0&id=4a63c197&lang=scss&scoped=true&","dependencies":[{"path":"/home/manoel/Documents/conta-comigo-app-front/src/views/CreateHelp.vue","mtime":1588719054688},{"path":"/home/manoel/Documents/conta-comigo-app-front/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/manoel/Documents/conta-comigo-app-front/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/manoel/Documents/conta-comigo-app-front/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/manoel/Documents/conta-comigo-app-front/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/manoel/Documents/conta-comigo-app-front/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/home/manoel/Documents/conta-comigo-app-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/manoel/Documents/conta-comigo-app-front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmNyZWF0ZS1oZWxwIHsKICB3aWR0aDogMTAwJTsKICBoZWlnaHQ6IDEwMCU7Cn0K"},{"version":3,"sources":["CreateHelp.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+GA;AACA;AACA;AACA","file":"CreateHelp.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"create-help\">\n    <CardContainer :title=\"'Preciso de ajuda'\">\n      <p class=\"subtitle-1 my-5 px-1 text-center secondary--text\">{{txtSub}}</p>\n      <v-form class=\"mt-5\" ref=\"requestform\">\n        <v-select\n          item-text=\"description\"\n          item-value=\"id\"\n          :items=\"help.helpCategory\"\n          label=\"Tipo de ajuda\"\n          v-model=\"requestCategory\"\n          outlined\n          required\n          :rules=\"[$vln.requiredRule('Tipo de ajuda')]\"\n          :disabled=\"help.helpRequestSuccess\"\n        ></v-select>\n        <v-textarea\n          outlined\n          v-model=\"requestDescription\"\n          label=\"Descrição\"\n          :disabled = \"help.helpRequestSuccess\"\n          :rules=\"[$vln.requiredRule('Descrição'), $vln.moreThanRule(20)]\"\n          required\n        ></v-textarea>\n        <div>\n          <p class=\"body-1 secondary--text px-1\">\n            Autorizar divulgar número de telefone para todos?\n          </p>\n          <v-switch\n            v-model=\"divulgarFone\"\n            class=\"ma-4\"\n            :label=\"divulgarFone ? 'Sim' : 'Não'\"></v-switch>\n        </div>\n        <v-btn\n          rounded\n          class=\"mt-5\"\n          block\n          @click=\"requestHelpSave()\"\n          :disabled = \"help.helpRequestSuccess\"\n          color=\"primary\" x-large>Procurar voluntário\n          <v-icon right dark>$heart</v-icon>\n        </v-btn>\n        <p\n          v-if=\"help.requestError\"\n          class=\"block text-center mt-4 danger--text\"\n        >{{help.requestError}}</p>\n        <!-- <div v-if=\"help.helpRequestSuccess\" class=\"block text-center mt-4\">\n          <p class=\"success--text\">\n            Solicitação realizada com sucesso!\n            <br>Agora é so aguardar que um voluntário irá ajudá-lo.\n          </p>\n          <v-btn text color=\"primary\" @click=\"requestHelpNew()\">Realizar um novo cadastro</v-btn>\n        </div> -->\n      </v-form>\n    </CardContainer>\n  </div>\n</template>\n<script>\nimport { mapState } from 'vuex';\nimport CardContainer from '@/components/CardContainer.vue';\n\nexport default {\n  name: 'CreateHelp',\n  computed: mapState(['help', 'user']),\n  components: {\n    CardContainer,\n  },\n  data() {\n    return {\n      divulgarFone: false,\n      requestDescription: '',\n      requestCategory: '',\n      txtSub: 'Selecione o tipo de ajuda e uma breve descrição do que você precisa e logo um voluntário irá oferecer ajuda.',\n    };\n  },\n  methods: {\n    requestHelpSave() {\n      if (this.$refs.requestform.validate()) {\n        // this.$store.dispatch('notification/showNotification', {\n        //   description: 'operação realizada com sucesso',\n        //   color: 'success',\n        //   id: this.$foos.guid(),\n        //   type: 0,\n        //   status: 0,\n        // });\n        this.$store.dispatch('help/requestHelpSave', {\n          category: this.requestCategory,\n          description: this.requestDescription,\n          address_id: this.user.user.addresses[0].id,\n          telephone_allowed: this.divulgarFone,\n        });\n      }\n    },\n    requestHelpNew() {\n      this.requestDescription = null;\n      this.$store.dispatch('help/requestHelpNew');\n    },\n  },\n  created() {\n    if ((this.description) && (this.category)) {\n      this.requestDescription = this.description;\n      this.requestCategory = this.category;\n    }\n    this.$store.dispatch('help/getHelpCategory');\n  },\n  beforeDestroy() {\n    this.$store.dispatch('help/clearHelpState');\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n.create-help {\n  width: 100%;\n  height: 100%;\n}\n</style>\n"]}]}